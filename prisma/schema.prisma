generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// 用户
model User {
  uuid        String   @id @default(uuid()) // uuid
  nickname    String   @default("uu") // 昵称
  role        String   @default("user") // 角色
  create_time DateTime @default(now()) // 创建时间
  avatar      String   @default("https://c-ssl.duitang.com/uploads/item/201912/25/20191225224833_zloky.jpg") // 头像
  gender      String?
  openid      String   @unique
  session_key String
}

// 话题分类
model Category {
  uuid        String @id @default(uuid()) // uuid
  title       String // 标题
  description String @db.Text // 描述
}

// 话题
model Topic {
  uuid        String   @id @default(uuid()) // uuid
  title       String // 标题
  content     String   @db.Text // 内容
  create_time DateTime @default(now()) // 创建时间
  category_id String // 所属分类uuid
  user_id     String // 作者uuid

  @@index([user_id])
  @@index([category_id])
}
